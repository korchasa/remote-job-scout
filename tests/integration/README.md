# Интеграционные тесты

## Обзор

Эта директория содержит интеграционные тесты, которые делают реальные HTTP запросы к внешним API (Indeed, LinkedIn, OpenAI).

## Важные предупреждения

⚠️ **Эти тесты делают реальные запросы к внешним API!**

- Требуют стабильного интернет-соединения
- Могут быть заблокированы API-ограничениями
- Могут занимать несколько минут на выполнение
- Не запускаются автоматически с командой `./run check`

## Запуск интеграционных тестов

```bash
# Запуск только интеграционных тестов
./run integration

# Или напрямую через vitest
npx vitest run --config vitest.integration.config.ts
```

## Структура

```
tests/integration/
├── scrapers/
│   ├── linkedin.integration.test.ts    # Тесты LinkedIn API
│   └── scrapers.integration.test.ts    # Тесты Indeed API
└── README.md                          # Этот файл
```

## Конфигурация

Интеграционные тесты используют специальную конфигурацию `vitest.integration.config.ts`:

- Увеличенный таймаут (60 секунд)
- Последовательный запуск (не параллельный)
- Меньшее количество потоков
- Повтор неудачных тестов (до 2 раз)

## Отличия от unit-тестов

| Характеристика | Unit-тесты | Integration-тесты |
|---|---|---|
| Запросы к API | Моки/стабы | Реальные HTTP запросы |
| Скорость | Быстрые (< 1 сек) | Медленные (10-60 сек) |
| Стабильность | Стабильные | Зависят от сети/API |
| Параллелизм | Высокий | Низкий |
| Запуск | `./run check` | `./run integration` |

## Лучшие практики

1. Запускайте интеграционные тесты только при необходимости
2. Убедитесь в стабильном интернет-соединении
3. Не запускайте на CI/CD без необходимости
4. Используйте для проверки реальной функциональности скрейперов
5. Мониторьте использование API-лимитов
