<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Job Scout - Find Your Dream Remote Job</title>

    <!-- Tailwind CSS via CDN (for development - replace with local build for production) -->
    <script src="https://cdn.tailwindcss.com/3.4.0"></script>

    <!-- Flowbite CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link href="/styles.css" rel="stylesheet">

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüîç%3C/text%3E%3C/svg%3E"
    >

    <!-- Theme configuration -->
    <script>
      // Disable Tailwind CDN warning for development
      window.TAILWIND_FORCE_DISABLED = true;

      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#eff6ff",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
              },
            },
          },
        },
      };
    </script>
  </head>

  <body
    class="h-full bg-gray-50 dark:bg-gray-900 transition-colors duration-300"
  >
    <!-- Navigation -->
    <nav
      class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
              üîç Remote Job Scout
            </h1>
          </div>
          <div class="flex items-center space-x-4">
            <!-- Theme Toggle -->
            <button
              id="theme-toggle"
              class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700"
            >
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                >
                </path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Settings Section -->
      <section id="settings-section" class="mb-8">
        <div
          class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"
        >
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white">
              üîß Search Settings
            </h2>
            <button
              id="toggle-settings"
              class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium"
            >
              Hide Settings
            </button>
          </div>

          <!-- Search Positions -->
          <div class="mb-6">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >
              Job Positions
            </label>
            <input
              type="text"
              id="search-positions"
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
              placeholder="Software Engineer, Frontend Developer, DevOps Engineer"
            >
            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
              Enter multiple positions separated by commas
            </p>
          </div>

          <!-- Job Sources -->
          <div class="mb-6">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
            >
              Job Sources
            </label>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
              <label
                class="flex items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"
              >
                <input
                  type="checkbox"
                  id="source-linkedin"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                >
                <div class="ml-3">
                  <div class="font-medium text-gray-900 dark:text-white">
                    LinkedIn
                  </div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">
                    Professional network jobs
                  </div>
                </div>
              </label>
              <label
                class="flex items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"
              >
                <input
                  type="checkbox"
                  id="source-indeed"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                >
                <div class="ml-3">
                  <div class="font-medium text-gray-900 dark:text-white">
                    Indeed
                  </div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">
                    Global job search
                  </div>
                </div>
              </label>
              <label
                class="flex items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"
              >
                <input
                  type="checkbox"
                  id="source-glassdoor"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                >
                <div class="ml-3">
                  <div class="font-medium text-gray-900 dark:text-white">
                    Glassdoor
                  </div>
                  <div class="text-sm text-gray-500 dark:text-gray-400">
                    Company reviews & jobs
                  </div>
                </div>
              </label>
            </div>
          </div>

          <!-- OpenAI Web Search -->
          <div class="mb-6">
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >
              OpenAI Web Search (Advanced)
            </label>
            <div class="space-y-3">
              <input
                type="password"
                id="openai-api-key"
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
                placeholder="sk-..."
              >
              <label class="flex items-center">
                <input
                  type="checkbox"
                  id="global-search"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                >
                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                >Enable global search fallback</span>
              </label>
            </div>
          </div>

          <!-- Blacklists -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                Company Blacklist
              </label>
              <input
                type="text"
                id="blacklist-companies"
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
                placeholder="Google, Facebook, Amazon"
              >
            </div>
            <div>
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                Title Keywords to Skip
              </label>
              <input
                type="text"
                id="blacklist-words-title"
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
                placeholder="senior, lead, principal"
              >
            </div>
          </div>

          <!-- Filters -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div id="country-filters">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                Country Filters
              </label>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                No country filters set
              </div>
            </div>
            <div id="language-filters">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                Language Requirements
              </label>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                English (Intermediate) - default
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Search Control -->
      <section class="mb-8">
        <div
          class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"
        >
          <div
            class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"
          >
            <div class="flex-1">
              <h3
                class="text-lg font-semibold text-gray-900 dark:text-white mb-2"
              >
                üöÄ Start Job Search
              </h3>
              <p class="text-gray-600 dark:text-gray-400">
                Search across multiple job platforms with your configured
                settings
              </p>
            </div>
            <button
              id="start-search"
              class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
            >
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                >
                </path>
              </svg>
              Start Search
            </button>
          </div>
        </div>
      </section>

      <!-- Progress Section -->
      <section id="progress-section" class="hidden mb-8">
        <div
          class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
              üìä Search Progress
            </h3>
            <button
              id="stop-search"
              class="inline-flex items-center px-4 py-2 border border-red-300 dark:border-red-600 text-sm font-medium rounded-lg text-red-700 dark:text-red-400 bg-white dark:bg-gray-800 hover:bg-red-50 dark:hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                >
                </path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 10h6m-6 4h6m-6 4h6"
                >
                </path>
              </svg>
              Stop Search
            </button>
          </div>

          <!-- Overall Progress -->
          <div class="mb-6">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
              >Overall Progress</span>
              <span
                id="overall-progress-text"
                class="text-sm text-gray-500 dark:text-gray-400"
              >0%</span>
            </div>
            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
              <div
                id="overall-progress-bar"
                class="bg-blue-600 h-3 rounded-full transition-all duration-300"
                style="width: 0%"
              >
              </div>
            </div>
          </div>

          <!-- Current Stage -->
          <div class="mb-6">
            <div class="flex items-center">
              <div
                class="animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent mr-3"
              >
              </div>
              <span
                class="text-sm font-medium text-gray-700 dark:text-gray-300"
              >
                Current Stage: <span id="current-stage">Initializing...</span>
              </span>
            </div>
          </div>

          <!-- Progress Details -->
          <div
            id="progress-info"
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"
          >
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
              <div class="text-2xl font-bold text-blue-600 dark:text-blue-400">
                0
              </div>
              <div class="text-sm text-gray-600 dark:text-gray-400">
                Jobs Collected
              </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
              <div
                class="text-2xl font-bold text-green-600 dark:text-green-400"
              >
                0
              </div>
              <div class="text-sm text-gray-600 dark:text-gray-400">
                Sources Completed
              </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
              <div
                class="text-2xl font-bold text-purple-600 dark:text-purple-400"
              >
                0
              </div>
              <div class="text-sm text-gray-600 dark:text-gray-400">
                Filtered Jobs
              </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
              <div
                class="text-2xl font-bold text-orange-600 dark:text-orange-400"
              >
                0
              </div>
              <div class="text-sm text-gray-600 dark:text-gray-400">
                Enriched Jobs
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Results Section -->
      <section id="results-section" class="hidden">
        <div
          class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"
        >
          <div class="flex items-center justify-between mb-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
              üìã Search Results
            </h3>
            <div class="flex items-center space-x-2">
              <span class="text-sm text-gray-500 dark:text-gray-400">
                Total: <span id="total-results">0</span> jobs
              </span>
            </div>
          </div>

          <!-- Results Container -->
          <div id="results-container" class="space-y-4">
            <!-- Job cards will be inserted here -->
          </div>

          <!-- Load More Button -->
          <div class="text-center mt-8">
            <button
              id="load-more-results"
              class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"
            >
              Load More Results
            </button>
          </div>
        </div>
      </section>

      <!-- Empty State -->
      <section id="empty-state" class="text-center py-16">
        <div class="max-w-md mx-auto">
          <div class="text-6xl mb-4">üîç</div>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">
            Ready to Find Your Dream Job?
          </h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">
            Configure your search settings above and start exploring remote job
            opportunities across multiple platforms.
          </p>
          <button
            onclick="document.getElementById('settings-section').scrollIntoView({behavior: 'smooth'})"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"
          >
            Configure Settings
          </button>
        </div>
      </section>
    </main>

    <!-- Job Details Modal -->
    <div
      id="job-modal"
      data-modal-target="job-modal"
      data-modal-toggle="job-modal"
      tabindex="-1"
      aria-hidden="true"
      class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
    >
      <div class="relative p-4 w-full max-w-4xl max-h-full">
        <div class="relative bg-white dark:bg-gray-800 rounded-lg shadow-lg">
          <!-- Modal header -->
          <div
            class="flex items-center justify-between p-4 md:p-5 border-b border-gray-200 dark:border-gray-700 rounded-t"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
              Job Details
            </h3>
            <button
              type="button"
              class="text-gray-400 bg-transparent hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"
              data-modal-hide="job-modal"
            >
              <svg
                class="w-3 h-3"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 14 16"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                />
              </svg>
              <span class="sr-only">Close modal</span>
            </button>
          </div>

          <!-- Modal body -->
          <div class="p-4 md:p-5 space-y-4">
            <div id="job-modal-content">
              <!-- Job content will be loaded here -->
            </div>
          </div>

          <!-- Modal footer -->
          <div
            class="flex items-center justify-end p-4 md:p-5 border-t border-gray-200 dark:border-gray-700 rounded-b"
          >
            <button
              data-modal-hide="job-modal"
              type="button"
              class="ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"
            >
              Close
            </button>
            <a
              id="job-apply-link"
              href="#"
              target="_blank"
              class="text-white ms-3 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >
              Apply Now
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer
      class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center text-gray-500 dark:text-gray-400">
          <p>¬© 2024 Remote Job Scout. Built with ‚ù§Ô∏è for remote workers.</p>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"
    ></script>
    <script src="/app.js"></script>
  </body>
</html>
