<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Job Scout</title>
    <link rel="stylesheet" href="styles.css">
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔍</text></svg>"
    >
  </head>
  <body>
    <div class="container">
      <header>
        <h1>🔍 Remote Job Scout</h1>
        <p>Find your perfect remote job with AI assistance</p>
      </header>

      <main>
        <section class="card">
          <div class="form-group">
            <h3>🎯 Search Positions</h3>
            <textarea
              id="search-positions"
              rows="2"
              placeholder="Software Engineer, Frontend Developer, etc."
            ></textarea>
          </div>

          <div class="row">
            <div class="col">
              <div class="form-group">
                <h3>🚫 Blacklisted Companies</h3>
                <textarea
                  id="blacklist-companies"
                  rows="2"
                  placeholder="Company names to exclude"
                ></textarea>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <h3>🚫 Blacklisted Words (Titles)</h3>
                <textarea
                  id="blacklist-words-title"
                  rows="2"
                  placeholder="Words to exclude from titles"
                ></textarea>
              </div>
            </div>
          </div>

          <div class="form-group">
            <h3>🚫 Blacklisted Words (Descriptions)</h3>
            <textarea
              id="blacklist-words-description"
              rows="2"
              placeholder="Words to exclude from descriptions"
            ></textarea>
          </div>

          <div class="row">
            <div class="col">
              <div class="form-group">
                <h3>🌍 Country Filters</h3>
                <div id="country-filters"></div>
                <button id="add-country" class="button outline small">
                  + Add Country
                </button>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <h3>🗣️ Language Requirements</h3>
                <div id="language-requirements"></div>
                <button id="add-language" class="button outline small">
                  + Add Language
                </button>
              </div>
            </div>
          </div>

          <div class="form-group">
            <h3>⏰ Work Time Filter</h3>
            <div id="work-time-filter"></div>
          </div>

          <div class="form-group">
            <h3>🌍 Sources</h3>
            <div class="checkbox-group">
              <div class="checkbox-item">
                <input type="checkbox" id="source-linkedin" checked>
                <label for="source-linkedin">LinkedIn</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="source-indeed" checked>
                <label for="source-indeed">Indeed</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="source-glassdoor">
                <label for="source-glassdoor">Glassdoor</label>
              </div>
            </div>
          </div>

          <div class="form-group">
            <h3>🤖 OpenAI WebSearch</h3>
            <input type="password" id="openai-api-key" placeholder="API Key">
            <div class="checkbox-item" style="margin-top: var(--spacing-sm)">
              <input type="checkbox" id="global-search">
              <label for="global-search">Global Search</label>
            </div>
          </div>

          <div class="form-group">
            <div style="display: flex; gap: var(--spacing-sm); flex-wrap: wrap">
              <button id="start-search" class="button primary">
                🚀 Start Search
              </button>
              <button id="reset-settings" class="button outline">
                🔄 Reset to Defaults
              </button>
              <button id="export-settings" class="button outline">
                📤 Export Settings
              </button>
              <button id="import-settings-btn" class="button outline">
                📥 Import Settings
              </button>
              <input
                type="file"
                id="import-settings"
                accept=".json"
                style="display: none"
              >
            </div>
          </div>
        </section>

        <section class="progress-section card hidden">
          <div class="progress-header">
            <h3>📊 Search Progress</h3>
            <button
              id="stop-search"
              class="button outline small"
              style="display: none"
            >
              🛑 Stop Search
            </button>
          </div>

          <div class="progress-bar-container">
            <progress id="overall-progress-bar" value="0" max="100"></progress>
            <div class="progress-text">
              <span id="overall-progress-text">0%</span>
              <span id="current-stage">Preparing...</span>
            </div>
          </div>

          <div class="stage-progress">
            <div class="stage-item" data-stage="collecting">
              <div class="stage-header">
                <span class="stage-icon">📥</span>
                <span class="stage-name">Collection</span>
                <span class="stage-status">Pending</span>
              </div>
              <div class="stage-bar">
                <div class="stage-progress-fill"></div>
              </div>
              <div class="stage-details">Preparing to collect jobs...</div>
            </div>

            <div class="stage-item" data-stage="filtering">
              <div class="stage-header">
                <span class="stage-icon">🔍</span>
                <span class="stage-name">Filtering</span>
                <span class="stage-status">Pending</span>
              </div>
              <div class="stage-bar">
                <div class="stage-progress-fill"></div>
              </div>
              <div class="stage-details">
                Waiting for collection to complete...
              </div>
            </div>

            <div class="stage-item" data-stage="enriching">
              <div class="stage-header">
                <span class="stage-icon">🤖</span>
                <span class="stage-name">Enrichment</span>
                <span class="stage-status">Pending</span>
              </div>
              <div class="stage-bar">
                <div class="stage-progress-fill"></div>
              </div>
              <div class="stage-details">
                Waiting for filtering to complete...
              </div>
            </div>
          </div>

          <div id="progress-info" class="text-muted">
            <p>Preparing search...</p>
          </div>
        </section>

        <section class="results-section card hidden">
          <h3>💼 Search Results</h3>
          <div id="results-container">
            <p class="text-muted">No results yet...</p>
          </div>
        </section>
      </main>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
